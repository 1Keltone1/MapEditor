# 2D Map Editor

## Описание проекта
Специализированный редактор карт для 2D-платформеров, разработанный на C# для Unity. Редактор предоставляет оптимизированные инструменты для быстрого создания игровых уровней.

## Архитектура проекта

### UML Class Diagramm
<img width="666" height="707" alt="TLDDRzim3BqRy7yWSjdQpPUUYo95aWK1acvOqlOmxC3ON4PCbWo9QR1q-U-p_2cxwCKstXFv-1xbgHEqSimLR3al5CqKEZTdF5ZCuoYEX4KHtCnXWmKiCXPZ8QdFyY-c3Ae222eAJF_WWM0oHq7Oc8pK15xZ222jZgxfXLJ5LI309oUMzG6K9numfmP-ehHKkrbfWOFbRCldbbcpaziTA" src="https://github.com/user-attachments/assets/eac36b8d-1d2c-4324-9f62-d952dce79a26" />

### UML Use-Case Diagramm
<img width="1036" height="751" alt="Рисунок1" src="https://github.com/user-attachments/assets/33fe327d-47c0-410a-8936-3363565dd44b" />

## Назначение модулей

# Data Model Layer (Слой данных)
Назначение: Хранение и управление структурой данных уровня

## LevelData
- Главный контейнер данных уровня
- Содержит: все слои, объекты, метаданные уровня
- Реализует: сериализацию в ScriptableObject для интеграции с Unity

## TileLayer
- Управление слоями уровня (фон, основной, декорации)
- Поддержка видимости и блокировки слоев
- Содержит: 2D массив тайлов для оптимального доступа
- Методы: GetTile(), SetTile(), ClearTile()

## TileData
- Представление отдельного тайла на карте
- Хранит: позицию, идентификатор, спрайт, физические свойства
- Поддержка различных типов тайлов через enum TileType

## MapObject
- Управление игровыми объектами (враги, монеты, точки спавна)
- Система свойств для настройки поведения объектов
- Гибкая конфигурация через Dictionary параметров

# Editor Layer (Слой редактора)
Назначение: Пользовательский интерфейс и инструменты редактирования

## MapEditorWindow
- Главное окно редактора карт
- Координация работы всех модулей
- UI элементы: палитра тайлов, панель инструментов, управление слоями
- Интеграция с Unity Editor API

## EditorTool (Абстрактный класс)
- Базовый класс для всех инструментов редактирования
- Определяет интерфейс: OnToolSelected(), OnSceneGUI()
- Реализует паттерн Strategy для замены инструментов

## PaintTool
- Инструмент рисования тайлов
- Поддержка различных размеров кисти
- Интеграция с системой предпросмотра

## EraseTool
- Инструмент удаления тайлов
- Работа в режиме реального времени
- Поддержка перетаскивания для массового удаления

# Visualization Layer (Слой визуализации)
Назначение: Отображение уровня в редакторе Unity

## LevelVisualizer
- Визуализация уровня в окне Scene View
- Использование Gizmos для отрисовки тайлов
- Цветовая схема для разных типов тайлов
- Автоматическое обновление при изменении данных

## GridRenderer
- Отрисовка сетки для точного позиционирования
- Настройка: цвет, размер ячейки, видимость
- Интерактивный курсор для предпросмотра

# Data Management Layer (Слой управления данными)
Назначение: Сохранение, загрузка и экспорт данных уровня

## LevelSerializer
- Сериализация LevelData в JSON формат
- Экспорт/импорт для бэкапов и миграции
- Валидация данных при загрузке

## AssetManager
- Интеграция с Unity Asset Database
- Создание ScriptableObject ассетов
- Управление зависимостями ресурсов

# Command Layer (Слой команд)
Назначение: Реализация системы выбора действий

## ICommand (Интерфейс)
- Определяет контракт для всех команд
- Методы: Execute(), Undo()
- Поддержка паттерна Command

## PlaceTileCommand
- Конкретная команда для размещения тайлов
- Хранит состояние до и после выполнения
- Интеграция с системой истории

## CommandManager
- Управление стеками отмены и повтора
- Ограничение глубины истории
- Уведомления об изменении состояния

## FillTool
- Заливка областей выбранным тайлом
- Алгоритм поиска смежных областей (flood fill)
- Оптимизация для больших уровней
